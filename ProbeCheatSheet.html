<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Probing Cheat Sheet</title>
    
<style>
    body {
        background-color: #222;
        color: #fff;
        font-family: 'Arial', sans-serif;
	font-size: 16px;
        line-height: 1.6;
        margin: 0;
        padding: 20px;
    }

    h1, h2 {
        color: #00bcd4;
    }

    code {
        background-color: #333;
        color: #00bcd4;
        padding: 5px 5px;
        border-radius: 3px;
    }

    .dark-mode-toggle {
        position: fixed;
        top: 10px;
        right: 10px;
        cursor: pointer;
        padding: 5px;
        background-color: #333;
        color: #00bcd4;
        border: none;
        border-radius: 5px;
    }

    .dark-mode {
        background-color: #333;
        color: #fff;
    }

    ul {
        list-style-type: none;
        padding: 8px;
    }

    li {
	border-radius: 5px;
        margin-top: 10px;
	padding: 10px;
	background-color: #444;
    }

    select,
    input {
        padding: 5px;
        border: 1px solid #333;
        border-radius: 3px;
        background-color: #333;
        color: #fff;
	width: 99%;
    }

    select:hover,
    input:hover {
        border-color: #00bcd4;
    }

    select:focus,
    input:focus {
        outline: none;
        border-color: #00bcd4;
    }
</style>

</head>
<body>

    <h1>Probing Cheat Sheet</h1>

    <ul>
	<li>
		<h2>Probe On</h2>
		<code>G65P9832(PROBE ON)</code>
	</li>
	<li>
		<h2>Probe Off</h2>
		<code>G65P9833(PROBE OFF)</code>
	</li>
    <li>
	<h2>PPM  - Protected Positioning Movement</h2>
        <code id="ppm">G65P9810(PPM)</code>
        <ul>
            <li>
		Axis:    
                <select id="ppm_axis">
                    <option value="X">X</option>
                    <option value="Y">Y</option>
                    <option value="Z">Z</option>
                </select>
            </li>
            <li>Position: <input type="text" id="ppm_pos" value="0."></input></li>
            <li>Feed: <input type="text" id="ppm_feed"></input></li>
        </ul>
    </li>
 
   <li>
	<h2>Single Point</h2>
        <code id="single_pt">G65P9811(SINGLE PT)</code>
        <ul>
            <li>
		Axis: 
                <select id="single_pt_axis">
                    <option value="X">X</option>
                    <option value="Y">Y</option>
                    <option value="Z">Z</option>
                </select>
            </li>
            <li>Position: <input type="text" id="single_pt_pos" value="0."></input></li>
            <li>
		WCS: 
                <select id="single_pt_wcs">
                    <option value="1.">G54</option>
                    <option value="2.">G55</option>
		    <option value="6.">G59</option>
		    <option value="101.">G54.1P1</option>
                    <option value="">None</option>
                </select>
            </li>
            <li>Overtravel: <input type="text" id="single_pt_overtravel"></input></li>
        </ul>
    </li>
    <li>
	<h2>Web / Pocket</h2>
            <code id="web_pocket">G65P9812</code>
            <ul>
            <li>
		Axis: 
                <select id="web_pocket_axis">
                    <option value="X">X</option>
                    <option value="Y">Y</option>
                </select>
            </li>
	    <li>Width Of Feature: <input type="text" id="web_pocket_width" placeholder="Width of Feature" value=""></input></li>
	    <li>Z Position: <input type="text" id="web_pocket_pos" placeholder="Web uses Z, Pocket = No Z" value=""></input></li>
	    <li>Radial Clearance: <input type="text" id="web_pocket_radial" placeholder="Defaults to .400 if blank" value=""></input></li>
            <li>
		WCS: 
                <select id="web_pocket_wcs">
                    <option value="1.">G54</option>
                    <option value="2.">G55</option>
		    <option value="6.">G59</option>
		    <option value="101.">G54.1P1</option>
                    <option value="">None</option>
                </select>
            </li>
            </ul>
        </li>
        <li>
            <code>G65P9814</code> - Bore/Boss Probing
            <ul>
                <li><code>D</code> - Diameter</li>
                <li><code>X, Y</code> - Position</li>
                <li><code>Z</code> - Boss (No Z for Bore, but needs to be in the bore)</li>
                <li><code>H</code> - Tolerance on feature</li>
                <li><code>M</code> - True position tolerance</li>
                <li><code>R</code> - Radially clearance amount</li>
                <li><code>S</code> - WCS, S1-S6 = G54-59, S101+ = G54.1P1</li>
            </ul>
        </li>        
        <li>
            <code>G65P9817</code> - 5 Point Rectangle External
            <ul>
                <li><code>G65P9817D10.05E10.05Z-.15S1.</code> - Example (5 PT RECT)</li>
                <li><code>B</code> - Angle tolerance, B=the +/- version of itself</li>
                <li><code>D</code> - Feature length in X axis</li>
                <li><code>E</code> - Feature length in Y axis</li>
                <li><code>Z</code> - Z measuring height position</li>
                <li><code>S</code> - WCS</li>
            </ul>
        </li>
        <li>
            <code>G65P9518</code> - C Axis Setting
            <ul>
                <li><code>K</code></li>
                <li><code>3</code> - C Axis Setting in Y</li>
                <li><code>4</code> - C Axis Setting in X</li>
                <li><code>X</code> - Distance between Y1 & Y2 PT</li>
                <li><code>Y</code> - Expected Y position</li>
                <li><code>S</code> - WCS</li>
            </ul>
        </li>
        <li>
            <code>G65P9834</code> - Feature to Feature Probing
            <ul>
                <li><code>X and Y</code> - Incremental distance in both directions</li>
                <li><code>A</code> - Desired angle</li>
                <li><code>D</code> - Distance between 2 points</li>
                <li><code>W</code> - If using X & Y: Use incremental distance from PT1 to PT2 to find the X and Y values</li>
            </ul>
        </li>
    </ul>

    <h2>Renishaw Probing Output Variables:</h2>
    <ul>
        <li><code>#135</code> - X Position</li>
        <li><code>#136</code> - Y Position</li>
        <li><code>#137</code> - Z Position</li>
        <li><code>#138</code> - Size</li>
        <li><code>#140</code> - X Error</li>
        <li><code>#141</code> - Y Error</li>
        <li><code>#142</code> - Z Error</li>
        <li><code>#143</code> - Size Error</li>
        <li><code>#145</code> - True Position Error</li>
    </ul>

    <button class="dark-mode-toggle" onclick="toggleDarkMode()">Toggle Dark Mode</button>

    <script>
        function toggleDarkMode() {
            document.body.classList.toggle('dark-mode');
        }
    </script>

</body>

 <script>
    // Function to update PPM
    function updatePPMcode(codeId, axisId, posId, feedId) {
        var code = 'G65P9810';
        var comment = "(PPM)";
        var axisInput = document.getElementById(axisId);
        var posInput = document.getElementById(posId);
        var feedInput = document.getElementById(feedId);
        var codeElement = document.getElementById(codeId);

        axisInput.addEventListener('input', function() {
            updatePPM();
        });

        posInput.addEventListener('input', function() {
            updatePPM();
        });

        feedInput.addEventListener('input', function() {
            updatePPM();
        });

        function updatePPM() {
            var axisValue = axisInput.value;
            var posValue = posInput.value;
            var feedValue = feedInput.value.trim() !== '' ? 'F' + feedInput.value + "." : '';
            codeElement.textContent =  code + axisValue + posValue + feedValue + comment;
        }
    }

    // Function to update Single Point
    function updateSinglePointcode(codeId, axisId, posId, wcsId, overtravelId) {
        var code = 'G65P9811';
        var comment = "SINGLE PT";
        var axisInput = document.getElementById(axisId);
        var posInput = document.getElementById(posId);
	var wcsInput = document.getElementById(wcsId);
        var overtravelInput = document.getElementById(overtravelId);
        var codeElement = document.getElementById(codeId);

        axisInput.addEventListener('input', function() {
            updateSinglePT();
        });

        posInput.addEventListener('input', function() {
            updateSinglePT();
        });

        wcsInput.addEventListener('input', function() {
            updateSinglePT();
        });

       overtravelInput.addEventListener('input', function() {
            updateSinglePT();
        });

        function updateSinglePT() {
            var axisValue = axisInput.value;
            var posValue = posInput.value;
            var overtravelValue = overtravelInput.value.trim() !== '' ? 'Q' + overtravelInput.value: '';
	    var wcsValue = wcsInput.value.trim() !== '' ? 'S' + wcsInput.value: '';
            codeElement.textContent =  code + axisValue + posValue + overtravelValue + wcsValue + "(" + comment + " - " + axisValue + ")";
        }
    }

    // Function to update Web / Pocket
    function updateWebPocketcode(codeId, axisId, widthId, posId, radialId, wcsId) {
        var code = 'G65P9812';
        var comment = "Web / Pocket";
        var axisInput = document.getElementById(axisId);
	var widthInput = document.getElementById(widthId);
        var posInput = document.getElementById(posId);
	var wcsInput = document.getElementById(wcsId);
        var radialInput = document.getElementById(radialId);
        var codeElement = document.getElementById(codeId);

        axisInput.addEventListener('input', function() {
            updateWebPocket();
        });

        widthInput.addEventListener('input', function() {
            updateWebPocket();
        });

        posInput.addEventListener('input', function() {
            updateWebPocket();
        });

        wcsInput.addEventListener('input', function() {
            updateWebPocket();
        });

       radialInput.addEventListener('input', function() {
            updateWebPocket();
        });

        function updateWebPocket() {
            var axisValue = axisInput.value;
	    var widthValue = widthInput.value;
            var posValue = posInput.value.trim() !== '' ? 'Z' + posInput.value: '';
            var radialValue = radialInput.value.trim() !== '' ? 'R' + radialInput.value: '';
	    var wcsValue = wcsInput.value.trim() !== '' ? 'S' + wcsInput.value: '';
            codeElement.textContent =  code + axisValue + widthValue + posValue + radialValue + wcsValue + "(" + comment + " - " + axisValue + ")";
        }
    }



    // Run both functions on page load
    window.onload = function() {
        updatePPMcode('ppm', 'ppm_axis', 'ppm_pos', 'ppm_feed');
        updateSinglePointcode('single_pt', 'single_pt_axis', 'single_pt_pos', 'single_pt_wcs', 'single_pt_overtravel');
	updateWebPocketcode('web_pocket', 'web_pocket_axis', 'web_pocket_width', 'web_pocket_pos', 'web_pocket_radial', 'web_pocket_wcs');
    }
</script>

</html>
